(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3487e70"],{"2dbe":function(t,a,s){t.exports=s.p+"img/002.0fc4165a.gif"},"679c":function(t,a,s){t.exports=s.p+"img/card.b3b95345.png"},7849:function(t,a){t.exports="data:image/png;base64,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"},b177:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("template",{slot:"default"},[e("img",{attrs:{src:s("2dbe")}})])],2),e("div",{staticClass:"pt-8 container OrderPayment"},[e("h1",{staticClass:"text-center mb-4 text-secondary"},[t._v("訂單付款")]),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v("\n          1.填寫訂單"),e("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"check"}})],1)]),t._m(0),t._m(1)]),e("div",{staticClass:"OrderPayment-message mb-5"},[e("h2",{staticClass:"mb-0 py-2 pl-3"},[t._v("訂單訊息")]),e("div",{staticClass:"subscriber px-3"},[e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("姓名:")]),e("span",[t._v(t._s(t.order.user.name))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("身分證號碼:")]),e("span",[t._v(t._s(t.order.user.identity))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("Email:")]),e("span",[t._v(t._s(t.order.user.email))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("護照姓名:")]),e("span",[t._v(t._s(t.order.user.passport))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("手機號碼:")]),e("span",[t._v(t._s(t.order.user.tel))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("地址:")]),e("span",[t._v(t._s(t.order.user.address))])]),e("div",{staticClass:"py-2 OrderPayment-common border-0"},[e("span",{staticClass:"mr-3 data"},[t._v("留言備註:")]),e("span",[t._v(t._s(t.order.message))])])])]),e("div",{staticClass:"OrderPayment-data mb-5"},[e("h2",{staticClass:"mb-0 py-2 pl-3"},[t._v("訂單資料")]),e("div",{staticClass:"subscriber px-3"},[e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("訂單成立時間:")]),e("span",[t._v(t._s(t._f("getTime")(t.order.create_at)))])]),e("div",{staticClass:"py-2 OrderPayment-common"},[e("span",{staticClass:"mr-3 data"},[t._v("訂單編號:")]),e("span",[t._v(t._s(t.orderId))])]),e("div",{staticClass:"py-2 OrderPayment-common border-0"},[e("span",{staticClass:"mr-3 data"},[t._v("總金額:")]),e("span",{staticClass:"total"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),e("div",{staticClass:"OrderPayment-pay mb-5"},[e("h2",{staticClass:"mb-0 py-2 pl-3"},[t._v("信用卡資訊")]),e("div",{staticClass:"subscriber px-3"},[t._m(2),e("form",{on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("div",{staticClass:"py-2 OrderPayment-card d-flex align-items-center"},[e("label",{attrs:{for:"card-num"}},[t._v("信用卡卡號:")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("card-num")},attrs:{type:"number",id:"card-num",name:"card-num",placeholder:"請輸入16位號碼"}})]),e("div",{staticClass:"py-2 OrderPayment-card OrderPayment-card-sm d-flex align-items-center"},[e("label",{attrs:{for:"card-date"}},[t._v("有效期限:")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("card-date")},attrs:{type:"number",id:"card-date",name:"card-date",placeholder:"例: 03-2020"}})]),e("div",{staticClass:"py-2 OrderPayment-card OrderPayment-card-sm border-0 d-flex align-items-center"},[e("label",{attrs:{for:"card-three"}},[t._v("背面末三碼:")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("card-three")},attrs:{type:"number",id:"card-three",name:"card-three",placeholder:"例: 130"}}),e("img",{attrs:{src:s("7849")}})]),t._m(3)])])])]),t._m(4)],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success  rounded-pill text-center",attrs:{role:"alert"}},[t._v("\n          2.確認付款\n        ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-light rounded-pill text-center",attrs:{role:"alert"}},[t._v("\n          3.訂單完成\n        ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-3 OrderPayment-card border-0"},[e("img",{attrs:{src:s("679c"),height:"50px;"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"text-right py-2 my-3"},[s("button",{staticClass:"submit-pay",attrs:{type:"submit"}},[t._v("確認付款")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"CreateOrder",tabindex:"-1",role:"dialog","aria-labelledby":"CreateOrderCenterTitle","aria-hidden":"true","data-backdrop":"static"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body leave-modal"},[s("p",[t._v("您的訂單尚未付款，確定要離開此頁?")]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"mr-2 confirm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確定")]),s("button",{staticClass:"cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")])])])])])])}],i=(s("a481"),{name:"OrderPayment",data:function(){return{order:{user:{}},orderId:"",leave:"",isLoading:!1}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/order/").concat(t.orderId);t.isLoading=!0,this.$http.get(a).then(function(a){t.isLoading=!1,t.order=a.data.order})},payOrder:function(){var t=this,a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/pay/").concat(a.orderId);this.$validator.validate().then(function(e){e?(a.isLoading=!0,t.$http.post(s).then(function(t){a.isLoading=!1,t.data.success&&(a.leave=!0,a.$bus.$emit("message:push","付款完成","success"),a.$router.replace("/OrderComplete/".concat(a.orderId)),a.$bus.$emit("pushCart"))})):a.$bus.$emit("message:push","信用卡資訊錯誤!","danger")})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},beforeRouteLeave:function(t,a,s){var e=this;e.leave?s():($("#CreateOrder").modal("show"),$(".confirm").on("click",function(){s()}),$(".cancel").on("click",function(){s(!1)}))}}),d=i,n=s("2877"),c=Object(n["a"])(d,e,r,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-d3487e70.465ff687.js.map