(function(t){function e(e){for(var a,c,u=e[0],s=e[1],i=e[2],d=0,p=[];d<u.length;d++)c=u[d],o[c]&&p.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},c={app:0},o={app:0},r=[];function u(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-01cab7ac":"c505a361","chunk-10570878":"9643427b","chunk-20bf791c":"13ad9728","chunk-2c9cbe7d":"793dac32","chunk-42f71790":"11589e70","chunk-4615812a":"9e779b01","chunk-57793350":"1aac7cc8","chunk-5d7a4f46":"bc68e16d","chunk-650207e7":"a138b44f","chunk-70572be0":"00947a97","chunk-77209aa4":"a3f1670f","chunk-00949dc4":"a8665b09","chunk-8f9eb4b4":"4c00614c","chunk-ee8482b6":"13734466","chunk-fce284cc":"28981a4a"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-01cab7ac":1,"chunk-4615812a":1,"chunk-57793350":1,"chunk-650207e7":1,"chunk-70572be0":1,"chunk-77209aa4":1,"chunk-00949dc4":1,"chunk-8f9eb4b4":1,"chunk-fce284cc":1};c[t]?e.push(c[t]):0!==c[t]&&n[t]&&e.push(c[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-01cab7ac":"079cd718","chunk-10570878":"31d6cfe0","chunk-20bf791c":"31d6cfe0","chunk-2c9cbe7d":"31d6cfe0","chunk-42f71790":"31d6cfe0","chunk-4615812a":"fd55db29","chunk-57793350":"aecb3143","chunk-5d7a4f46":"31d6cfe0","chunk-650207e7":"2f83103a","chunk-70572be0":"5684a73b","chunk-77209aa4":"dc3cd629","chunk-00949dc4":"55297bed","chunk-8f9eb4b4":"fd618218","chunk-ee8482b6":"31d6cfe0","chunk-fce284cc":"aecb3143"}[t]+".css",o=s.p+a,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var i=r[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===o))return e()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){i=p[u],d=i.getAttribute("data-href");if(d===a||d===o)return e()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=e,l.onerror=function(e){var a=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[t],l.parentNode.removeChild(l),n(r)},l.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(l)}).then(function(){c[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(t),i=function(e){d.onerror=d.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+c+")");r.type=a,r.request=c,n[1](r)}o[t]=void 0}};var p=setTimeout(function(){i({type:"timeout",target:d})},12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/World-Travel/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var l=d;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),c=n("bc3a"),o=n.n(c),r=n("a7fe"),u=n.n(r),s=(n("4989"),n("9062")),i=n.n(s),d=(n("e40d"),n("ecee")),p=n("c074"),l=n("f2d1"),h=n("b702"),m=n("ad3d"),f=n("1157"),g=n.n(f);window.$=g.a,window.jQuery=g.a;g.a;var b=n("f7ec"),v=n("7bb1"),k=n("427f"),M=n.n(k),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},A=[],I={name:"app"},E=I,O=(n("5c0b"),n("2877")),C=Object(O["a"])(E,T,A,!1,null,null,null),P=C.exports,S=n("8c4f");a["a"].use(S["a"]);var D=new S["a"]({linkActiveClass:"active",scrollBehavior:function(t,e,n){return n||{x:0,y:0}},routes:[{path:"*",redirect:"/index"},{path:"/",redirect:"/index",component:function(){return n.e("chunk-4615812a").then(n.bind(null,"ed3a"))},children:[{path:"index",name:"Home",component:function(){return n.e("chunk-42f71790").then(n.bind(null,"bb51"))}},{path:"Products",name:"Products",component:function(){return Promise.all([n.e("chunk-77209aa4"),n.e("chunk-00949dc4")]).then(n.bind(null,"e6dc"))}},{path:"ProductsDetails/:id",name:"ProductsDetails",component:function(){return n.e("chunk-01cab7ac").then(n.bind(null,"ee3e"))}},{path:"Guide",name:"Guide",component:function(){return n.e("chunk-20bf791c").then(n.bind(null,"4638"))}},{path:"customerCart",name:"customerCart",component:function(){return Promise.all([n.e("chunk-77209aa4"),n.e("chunk-8f9eb4b4")]).then(n.bind(null,"c7a3"))}},{path:"CreateOrder",name:"CreateOrder",component:function(){return n.e("chunk-2c9cbe7d").then(n.bind(null,"4fa1"))}},{path:"OrderPayment/:orderId",name:"OrderPayment",component:function(){return n.e("chunk-5d7a4f46").then(n.bind(null,"b177"))}},{path:"OrderComplete/:orderId",name:"OrderComplete",component:function(){return n.e("chunk-ee8482b6").then(n.bind(null,"ca79"))}}]},{path:"/Login",name:"Login",component:function(){return n.e("chunk-57793350").then(n.bind(null,"a55b"))}},{name:"dashboard",path:"/admin",component:function(){return n.e("chunk-fce284cc").then(n.bind(null,"8135"))},children:[{name:"buildProducts",path:"buildProducts",component:function(){return n.e("chunk-10570878").then(n.bind(null,"5969"))},meta:{requiresAuth:!0}},{name:"coupons",path:"coupons",component:function(){return n.e("chunk-70572be0").then(n.bind(null,"d610"))},meta:{requiresAuth:!0}},{name:"report",path:"report",component:function(){return n.e("chunk-650207e7").then(n.bind(null,"9c18"))},meta:{requiresAuth:!0}}]}]}),G=n("2f62"),y=(n("ac6a"),{strict:!0,namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var n=e.message,a=e.status,c=Math.floor(new Date/1e3);t.commit("UPDATEMESSAGE",{timestamp:c,message:n,status:a}),t.dispatch("removeMessageWithTiming",c)},removeMessageWithTiming:function(t,e){setTimeout(function(){t.commit("REMOVEMESSAGEWITHTIMING",e)},3e3)}},mutations:{UPDATEMESSAGE:function(t,e){t.messages.push(e)},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)},REMOVEMESSAGEWITHTIMING:function(t,e){t.messages.forEach(function(n,a){n.timestamp===e&&t.messages.splice(a,1)})}},getters:{messages:function(t){return t.messages}}}),R=n("795b"),w=n.n(R),N={strict:!0,namespaced:!0,state:{},actions:{signin:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/admin/signin");return t.commit("ISLOADING",!0,{root:!0}),new w.a(function(a){o.a.post(n,e).then(function(e){t.commit("ISLOADING",!1,{root:!0}),e.data.success?(t.dispatch("AlertModule/updateMessage",{message:"登入成功",status:"success"},{root:!0}),D.push("/admin/buildProducts")):(t.dispatch("AlertModule/updateMessage",{message:"帳號或密碼有誤",status:"danger"},{root:!0}),a())})})}},mutations:{},getters:{}},L={strict:!0,namespaced:!0,state:{cart:{},cartlength:0,cartItem:""},actions:{getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/cart");t.commit("ISLOADING",!0,{root:!0}),o.a.get(e).then(function(e){t.commit("ISLOADING",!1,{root:!0}),e.data.success?(t.commit("CRAT",e.data.data),t.commit("CRATITEM","")):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})},addtoCart:function(t,e){var n=e.id,a=e.qty,c=void 0===a?1:a,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/cart");t.commit("ISLOADING",!0,{root:!0}),t.commit("CRATITEM",n);var u={product_id:n,qty:c};return new w.a(function(e){o.a.post(r,{data:u}).then(function(n){t.commit("ISLOADING",!1,{root:!0}),n.data.success?(t.dispatch("AlertModule/updateMessage",{message:"此行程已加入購物車",status:"success"},{root:!0}),t.dispatch("getCart"),e()):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})},deleteCart:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/cart/").concat(e);t.commit("CRATITEM",e),t.commit("ISLOADING",!0,{root:!0}),o.a.delete(n).then(function(e){t.commit("ISLOADING",!1,{root:!0}),e.data.success?(t.dispatch("getCart"),t.dispatch("AlertModule/updateMessage",{message:"成功刪除此行程",status:"success"},{root:!0})):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})},addCouponCode:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/coupon"),a={code:e};return t.commit("ISLOADING",!0,{root:!0}),new w.a(function(e){o.a.post(n,{data:a}).then(function(n){t.commit("ISLOADING",!1,{root:!0}),n.data.success?(t.dispatch("AlertModule/updateMessage",{message:"已套用優惠券",status:"success"},{root:!0}),t.dispatch("getCart"),e()):(t.dispatch("AlertModule/updateMessage",{message:n.data.message,status:"danger"},{root:!0}),e())})})}},mutations:{CRAT:function(t,e){t.cart=e,t.cartlength=e.carts.length},CRATITEM:function(t,e){t.cartItem=e}},getters:{cart:function(t){return t.cart},cartlength:function(t){return t.cartlength},cartItem:function(t){return t.cartItem}}},x=(n("a481"),{strict:!0,namespaced:!0,state:{order:{user:{}}},actions:{createOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/order");return t.commit("ISLOADING",!0,{root:!0}),new w.a(function(a){o.a.post(n,{data:e}).then(function(e){t.commit("ISLOADING",!1,{root:!0}),e.data.success?(a(),t.dispatch("CartModule/getCart",null,{root:!0}),setTimeout(function(){D.replace("/OrderPayment/".concat(e.data.orderId))},200)):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})},getOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/order/").concat(e);o.a.get(n).then(function(e){t.commit("GETORDER",e.data.order)})},payOrder:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/pay/").concat(e);return t.commit("ISLOADING",!0,{root:!0}),new w.a(function(a){o.a.post(n).then(function(n){t.commit("ISLOADING",!1,{root:!0}),n.data.success?(a(),t.dispatch("AlertModule/updateMessage",{message:"付款完成",status:"success"},{root:!0}),t.dispatch("CartModule/getCart",null,{root:!0}),setTimeout(function(){D.replace("/OrderComplete/".concat(e))},200)):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})}},mutations:{GETORDER:function(t,e){t.order=e}},getters:{order:function(t){return t.order}}}),_={strict:!0,namespaced:!0,state:{products:[],slideproducts:[],temproduct:{},currentProduct:{},copycurrentProduct:{},continent:"",pagination:{total_pages:1,current_page:1,has_pre:!1,has_next:!1,page_size:8}},actions:{getProducts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/products/all");t.commit("ISLOADING",!0,{root:!0}),o.a.get(n).then(function(n){t.commit("ISLOADING",!1,{root:!0}),n.data.success?(t.commit("GETPRODUCTS",n.data.products),t.commit("FILTERPRODUCTS",e)):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})},getCurrentProduct:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/product/").concat(e);return new w.a(function(e){o.a.get(n).then(function(n){n.data.success?(t.commit("GETCURRENTPRODUCT",n.data.product),e()):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})},getCurrentPageProduct:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/product/").concat(e);return t.commit("ISLOADING",!0,{root:!0}),new w.a(function(e){o.a.get(n).then(function(n){t.commit("ISLOADING",!1,{root:!0}),n.data.success?(t.commit("GETCURRENTPAGEPRODUCT",n.data.product),e(),setTimeout(function(){t.commit("GETCURRENTPAGEPRODUCT",{})},500)):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})},getSlideProducts:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/products/all");return t.dispatch("CartModule/getCart",null,{root:!0}),new w.a(function(n){o.a.get(e).then(function(e){e.data.success?(t.commit("GETSLIDEPRODUCTS",e.data.products),n()):t.dispatch("AlertModule/updateMessage",{message:"出現異常，請稍後再試",status:"danger"},{root:!0})})})}},mutations:{GETPRODUCTS:function(t,e){t.products=e},FILTERPRODUCTS:function(t,e){""!==t.continent&&(t.products=t.products.filter(function(e){return e.category===t.continent}));var n=t.products.length,a=t.pagination.page_size;t.pagination.total_pages=Math.ceil(n/a),t.pagination.current_page=e,t.pagination.has_pre=e>1,e<t.pagination.total_pages?t.pagination.has_next=!0:t.pagination.has_next=!1,t.products=t.products.slice(0+a*(e-1),a*e)},GETCURRENTPAGEPRODUCT:function(t,e){t.currentProduct=e},GETCURRENTPRODUCT:function(t,e){t.temproduct=e},CURRENTCONTINENT:function(t,e){t.continent===e&&""!==e?t.continent="":t.continent=e},GETSLIDEPRODUCTS:function(t,e){t.slideproducts=e}},getters:{products:function(t){return t.products},temproduct:function(t){return t.temproduct},currentProduct:function(t){return t.currentProduct},continent:function(t){return t.continent},pagination:function(t){return t.pagination},slideproducts:function(t){return t.slideproducts}}};a["a"].use(G["a"]);var U=new G["a"].Store({strict:!0,state:{isLoading:!1},actions:{},mutations:{ISLOADING:function(t,e){t.isLoading=e}},getters:{isLoading:function(t){return t.isLoading}},modules:{AlertModule:y,BackstageModule:N,CartModule:L,OrderModule:x,ProductModule:_}});a["a"].prototype.$bus=new a["a"];n("c5f6");var j=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,function(t,e,n){return e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t}))},q=function(t){var e=new Date(1e3*Number(t)),n=e.getFullYear(),a=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,c=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),o=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),r=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(n,"-").concat(a,"-").concat(c," ").concat(o,":").concat(r)},H=function(t){var e="";switch(t){case"亞洲":e="badge-light";break;case"歐洲":e="badge-secondary";break;case"大洋洲":e="badge-primary";break;case"美洲":e="badge-danger";break;case"非洲":e="badge-warning";break;default:e="";break}return e};a["a"].component("video-bg",b["a"]),v["a"].Validator.localize("zhTW",M.a),a["a"].use(v["a"],{locale:"zhTW",events:"input|blur"}),d["c"].add(l["a"],h["a"],p["a"]),a["a"].component("font-awesome-icon",m["a"]),a["a"].use(u.a,o.a),a["a"].config.productionTip=!1,a["a"].component("Loading",i.a),a["a"].filter("currency",j),a["a"].filter("getTime",q),a["a"].filter("giveclass",H),o.a.defaults.withCredentials=!0,new a["a"]({render:function(t){return t(P)},router:D,store:U}).$mount("#app"),D.beforeEach(function(t,e,n){if($(".modal").modal("hide"),t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(a).then(function(t){t.data.success?n():n({path:"/login"})})}else n()})},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),c=n.n(a);c.a},"5e27":function(t,e,n){}});
//# sourceMappingURL=app.d122a699.js.map