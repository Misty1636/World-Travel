(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20a5299d"],{"53b1":function(t,a,e){"use strict";var n=e("c88b"),i=e.n(n);i.a},6407:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination mb-0"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPages(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a},attrs:{pages:a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getPages(a)}}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPages(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},i=[],s={props:{pages:{type:Object,default:function(){}}},methods:{getPages:function(t){this.$emit("thePage",t),this.$emit("scrollTarget")}}},c=s,r=e("2877"),o=Object(r["a"])(c,n,i,!1,null,null,null);a["a"]=o.exports},c88b:function(t,a,e){},e6dc:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"Products-banner"},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[n("template",{slot:"default"},[n("img",{attrs:{src:e("2dbe")}})])],2),n("slide"),n("section",{staticClass:"Products-main pt-6 container",attrs:{id:"MainProducts"}},[n("div",{staticClass:"d-flex justify-content-center Products-title"},[n("h1",{staticClass:"mb-4 px-5"},[n("font-awesome-icon",{attrs:{icon:"plane"}}),t._v("\n          精選行程\n        ")],1)]),n("div",{staticClass:"Products-continent mb-6"},[n("ul",{staticClass:"list-unstyled d-flex justify-content-center mb-0"},[n("li",[n("a",{staticClass:"Asia",class:{active:"亞洲"==t.continent},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.currentContinent("亞洲")}}},[t._v("亞洲")])]),n("li",[n("a",{staticClass:"Europe",class:{active:"歐洲"==t.continent},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.currentContinent("歐洲")}}},[t._v("歐洲")])]),n("li",[n("a",{staticClass:"Oceania",class:{active:"大洋洲"==t.continent},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.currentContinent("大洋洲")}}},[t._v("大洋洲")])]),n("li",[n("a",{staticClass:"America",class:{active:"美洲"==t.continent},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.currentContinent("美洲")}}},[t._v("美洲")])]),n("li",[n("a",{staticClass:"Africa",class:{active:"非洲"==t.continent},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.currentContinent("非洲")}}},[t._v("非洲")])])])]),n("div",{staticClass:"Products-list row"},t._l(t.products,function(a){return n("div",{key:a.id,staticClass:"col-md-6 col-12 mb-6"},[n("div",{staticClass:"list-box"},[n("div",{staticClass:"list-img"},[n("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl,alt:""}}),n("div",{staticClass:"list-more p-3 d-flex justify-content-center align-items-center"},[n("a",{attrs:{href:"#/ProductsDetails/"+a.id},on:{click:function(e){return e.preventDefault(),t.ToProductsDetaill(a.id)}}},[t._v("More")]),n("button",{staticClass:"list-btn",attrs:{type:"button"},on:{click:function(e){return t.getCurrentProduct(a.id)}}},[t._v("我要報名")])])]),n("div",{staticClass:"list-content p-3"},[n("h4",{staticClass:"mb-3"},[t._v(t._s(a.title))]),n("p",{staticClass:"text-secondary"},[t._v(t._s(a.description))]),n("div",{staticClass:"list-price d-flex justify-content-between align-items-center"},[n("span",{staticClass:"oldprice text-secondary"},[t._v(t._s(t._f("currency")(a.origin_price)))]),n("span",{staticClass:"newprice"},[t._v(t._s(t._f("currency")(a.price)))])])])])])}),0)]),n("Pagination",{staticClass:"d-flex justify-content-center mb-6",attrs:{pages:t.pagination},on:{thePage:t.getProducts,scrollTarget:t.scroll}})],1),n("ProductModal",{attrs:{theProduct:t.temproduct,loadingtoCart:t.loadingtoCart},on:{addtheCart:t.addtoCart}})],1)},i=[],s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"swiper"},[e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.swiperSlides,function(a,n){return e("swiper-slide",{key:n,style:"background-image: url("+a.imgPath+"); background-position: center center;\n      background-size: cover;"},[e("div",{staticClass:"container d-flex align-items-center h-100 swiper-box"},[e("div",{staticClass:"swipertext d-flex flex-column align-items-center"},[e("h2",{staticClass:"mb-1 pb-1"},[t._v(t._s(a.country))]),e("span",[t._v(t._s(a.en))])])])])}),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},c=[],r=(e("dfa4"),e("7212")),o={name:"slide",data:function(){return{swiperOption:{loop:!0,centeredSlides:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}},swiperSlides:[{imgPath:"pro/Fiji-lg.jpg",country:"斐濟",en:"Fiji"},{imgPath:"pro/Japan-lg2.jpg",country:"日本",en:"Japan"},{imgPath:"pro/Paris-lg.jpg",country:"法國",en:"France"},{imgPath:"pro/Switzerland-lh.jpg",country:"瑞士",en:"Swiss"},{imgPath:"pro/China-lg.jpg",country:"中國",en:"China"}]}},components:{swiper:r["swiper"],swiperSlide:r["swiperSlide"]}},l=o,u=(e("53b1"),e("2877")),p=Object(u["a"])(l,s,c,!1,null,null,null),d=p.exports,g=e("6407"),f=e("f0f0"),h={name:"Products",data:function(){return{continent:"",products:[],temproduct:{},pagination:{total_pages:1,current_page:1,has_pre:!1,has_next:!1,page_size:8},isLoading:!1,loadingtoCart:""}},components:{slide:d,Pagination:g["a"],ProductModal:f["a"]},methods:{currentContinent:function(t){this.continent=t,this.getProducts();var a=$("#MainProducts").offset(),e=a.top;$("html,body").animate({scrollTop:e-47.5},1e3)},scroll:function(){setTimeout(function(){var t=$("#MainProducts").offset(),a=t.top;$("html,body").animate({scrollTop:a-47.5},1e3)},1e3)},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/products/all");a.isLoading=!0,this.$http.get(e).then(function(e){a.isLoading=!1,a.products=e.data.products,""!==a.continent&&(a.products=a.products.filter(function(t){return t.category===a.continent}));var n=a.products.length,i=a.pagination.page_size;a.pagination.total_pages=Math.ceil(n/i),a.pagination.current_page=t,a.pagination.has_pre=t>1,t<a.pagination.total_pages?a.pagination.has_next=!0:a.pagination.has_next=!1,a.products=a.products.slice(0+i*(t-1),i*t)})},getCurrentProduct:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/product/").concat(t),e=this;this.$http.get(a).then(function(t){$("#productModal").modal("show"),e.temproduct=t.data.product})},ToProductsDetaill:function(t){this.$router.push("/ProductsDetails/".concat(t))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("palette","/cart"),n=this;n.loadingtoCart=t;var i={product_id:t,qty:a};this.$http.post(e,{data:i}).then(function(){$("#productModal").modal("hide"),n.loadingtoCart="",n.$bus.$emit("message:push","此行程已加入購物車","success"),n.$bus.$emit("pushCart")})}},mounted:function(){this.getProducts(),$("html,body").animate({scrollTop:0},10)}},v=h,m=Object(u["a"])(v,n,i,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-20a5299d.4c967144.js.map